@page "/"
@using SharedModels.Responses.Notes
@using WebApp.Components.Dropdown
@using WebApp.Components.Sidebar
@inject ApiService _apiService
@inject PopupMessageService _popupMessageService
@attribute [Authorize]

<CascadingAppState>
    <div class="main-row">
        <div class="sidebar-col">
            <Sidebar />
        </div>
        <div class="content-col">
            <div class="content-container">
                <ContentBar />
                <div class="editor-test">YXC</div>
            </div>
        </div>
    </div>
</CascadingAppState>

@code {
    List<NoteResponse> allNotes;

    private async Task GetAllNotes()
    {
        try
        {
            allNotes = await _apiService.Get<List<NoteResponse>>("notes");
        }
        catch (ApplicationException ex)
        {
            _popupMessageService.ShowPopup(ex.Message, PopupMessageType.Error);
        }
    }
}